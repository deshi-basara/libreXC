Metadata-Version: 2.0
Name: txaio
Version: 2.0.4
Summary: Compatibility API between asyncio/Twisted/Trollius
Home-page: https://github.com/tavendo/txaio
Author: Tavendo GmbH
Author-email: autobahnws@googlegroups.com
License: UNKNOWN
Keywords: asyncio twisted trollius coroutine
Platform: Any
Classifier: License :: OSI Approved :: MIT License
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Framework :: Twisted
Classifier: Intended Audience :: Developers
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Topic :: Software Development :: Libraries
Classifier: Topic :: Software Development :: Libraries :: Application Frameworks
Requires-Dist: six
Provides-Extra: asyncio
Requires-Dist: trollius (>=2.0); extra == 'asyncio'
Requires-Dist: futures (>=3.0.3); extra == 'asyncio'
Provides-Extra: dev
Requires-Dist: pytest (>=2.6.4); extra == 'dev'
Requires-Dist: pytest-cov (>=1.8.1); extra == 'dev'
Requires-Dist: pep8 (>=1.6.2); extra == 'dev'
Requires-Dist: sphinx (>=1.2.3); extra == 'dev'
Requires-Dist: pyenchant (>=1.6.6); extra == 'dev'
Requires-Dist: sphinxcontrib-spelling (>=2.1.2); extra == 'dev'
Requires-Dist: sphinx-rtd-theme (>=0.1.9); extra == 'dev'
Requires-Dist: tox (>=2.1.1); extra == 'dev'
Provides-Extra: twisted
Requires-Dist: zope.interface (>=3.6); extra == 'twisted'
Requires-Dist: twisted (>=12.1.0); extra == 'twisted'

txaio
=====

| |Version| |Downloads| |Build Status| |Coverage| |Docs|

--------------

**txaio** is a helper library for writing code that runs unmodified on
both `Twisted <https://twistedmatrix.com/>`_ and `asyncio <https://docs.python.org/3/library/asyncio.html>`_ / `Trollius <http://trollius.readthedocs.org/en/latest/index.html>`_.

This is like `six <http://pythonhosted.org/six/>`_, but for wrapping
over differences between Twisted and asyncio so one can write code
that runs unmodified on both (aka *source code compatibility*). In
other words: your *users* can choose if they want asyncio **or** Twisted
as a dependency.

Note that, with this approach, user code **runs under the native event
loop of either Twisted or asyncio**. This is different from attaching
either one's event loop to the other using some event loop adapter.


Platform support
----------------

**txaio** runs on CPython 2.6+ and PyPy 2, on top of Twisted or asyncio. Specifically, **txaio** is tested on the following platforms:

* CPython 2.6 on Twisted 12.1, 13.2, 15.4 and Trollius 2.0
* CPython 2.7 on Twisted 12.1, 13.2, 15.4, trunk and Trollius 2.0
* CPython 3.3 on Twisted 15.4, trunk and Trollius 2.0
* CPython 3.4 on Twisted 15.4, trunk and asyncio (stdlib)
* PyPy 2.5 on Twisted 12.1, 13.2, 15.4, trunk and Trollius 2.0


How it works
------------

Instead of directly importing, instantiating and using ``Deferred``
(for Twisted) or ``Future`` (for asyncio) objects, **txaio** provides
helper-functions to do that for you, as well as associated things like
adding callbacks or errbacks.

This obviously changes the style of your code, but then you can choose
at runtime (or import time) which underlying event-loop to use. This
means you can write **one** code-base that can run on Twisted *or*
asyncio (without a Twisted dependency) as you or your users see fit.

Code like the following can then run on *either* system:

.. sourcecode:: python

    f0 = txaio.create_future()
    f1 = txaio.as_future(some_func, 1, 2, key='word')
    txaio.add_callbacks(f0, callback, errback)
    txaio.add_callbacks(f1, callback, errback)
    # ...
    txaio.resolve(f0, "value")
    txaio.reject(f1, RuntimeError("it failed"))


.. |Version| image:: https://img.shields.io/pypi/v/txaio.svg
   :target: https://pypi.python.org/pypi/txaio

.. |Downloads| image:: https://img.shields.io/pypi/dm/txaio.svg
   :target: https://pypi.python.org/pypi/txaio

.. |GitHub Stars| image:: https://img.shields.io/github/stars/crossbario/txaio.svg?style=social&label=Star
   :target: https://github.com/crossbario/txaio

.. |Master Branch| image:: https://img.shields.io/badge/branch-master-orange.svg
   :target: https://travis-ci.org/crossbario/txaio.svg?branch=master

.. |Build Status| image:: https://travis-ci.org/crossbario/txaio.svg?branch=master
   :target: https://travis-ci.org/crossbario/txaio

.. |Coverage| image:: https://img.shields.io/codecov/c/github/crossbario/txaio/master.svg
   :target: https://codecov.io/github/crossbario/txaio

.. |Docs| image:: https://img.shields.io/badge/docs-latest-brightgreen.svg?style=flat
   :target: http://txaio.readthedocs.org/en/latest/


